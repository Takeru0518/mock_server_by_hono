# 🧢 機能要求書（Mock Screen Server）

## プロジェクト概要

**名称**：Mock Screen Server
**目的**：

- Hono をベースにした、HTML,css,jsモック画面を動的に追加・表示できるローカルサーバーを作成する。
- UI設計や画面遷移フローを確認するための、軽量モックサーバーツールとしての利用を想定する。
- CLIでモックの追加, 変更, 削除とルーティングの変更が可能であることを主目的とする。

---

## 1. 全体構成

### 使用技術

**バックエンド**：Hono（Cloudflare Workers互換構成）
**フロント**：静的HTML,css,js
**CLI**：Node.js製コマンドラインツール
**開発言語**：TypeScript
**デプロイ環境**：最初はローカルNode.js、将来的にCloudflare Workers対応予定

### ディレクトリ構成（想定）

mock-server/
├─ src/
│  ├─ worker.ts       # Workersエントリーポイント
│  ├─ index.ts        # Honoアプリ本体（ルーティング）
│  ├─ cli.ts          # CLI機能（mock add など）
│  └─ mocks/          # 生成されるHTMLモックファイル
│     ├─ login.html
│     └─ dashboard.html
├─ wrangler.toml
├─ package.json
├─ tsconfig.json

---

## 2. CLI 要件

### コマンド構成

#### モックの追加,変更,削除

- addコマンドで追加, 変更を表現する
- deleteコマンドで削除を表現する

```bash
mock add {name} -html
mock add {name} -css
mock add {name} -js

mock delete {name} -html
mock delete {name} -css
mock delete {name} -js
```

#### モックルーティングの変更

- afterでname1に対しての次のページ1, 次のページ2, 次のページ3への遷移を登録する
- beforeでname1に対しての前のページ1, 前のページ2, 前のページ3への遷移を登録する
- name1に対しての遷移先がいっぱいになった場合、エラーとする

```bash
mock rout {name1} -after {name2} 
mock rout {name1} -before {name3} 
```

### 動作仕様

- `{name}` に指定した名称で、`src/mocks/{name}.html` を生成する。
- 既に同名ファイルが存在する場合はエラー表示。

## 3. サーバー要件

- ローカル開発時は Node.js 環境で `fs` により `mocks/` を直接参照。
- Cloudflare デプロイ時は KV または R2 ストレージ対応を検討。

---

## 5. 非機能要件

- 依存は最小限（`hono`, `wrangler`, `typescript`）。
- Node.js 20+ 環境で動作。
- ESM形式で統一（`"type": "module"`）。

---
